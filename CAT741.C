#include <stdio.h>
#include <conio.h>
#include <io.h>
#include <stdlib.h>
#include <graphics.h>
#include <dos.h>
#include <alloc.h>

#define port 0x378
#define portd port+1

#define DATA    0x0378
#define STATUS  DATA+1
#define CONTROL DATA+2
#define TRUE    1
#define FALSE   0


int kart_durum=0;
int intlev=0x0f;
int int_occurred=FALSE;

int pin2(int stt);
int pin3(int stt);
int pin6(void);
int kart(int stt);
void AnaEkran(void);
void reset(void);
void KarakterSeti(void);
void durum(void);

void open_intserv(void);
void close_intserv(void);
void int_processed(void);
void interrupt far intserv(void);
void interrupt far (*oldfunc)();


/* Pin durumlar ....................................................... */;
void durum(void)
{
 int p2,p3,p6,devre;
 p2=pin2(2);
 p3=pin3(2);
 p6=pin6();
 devre=kart(2);
 window(3,19,24,22);
 clrscr();
 gotoxy(2,1);
 textcolor(LIGHTCYAN);cprintf("Kart.:"); textcolor(WHITE);
	if (devre==1) cprintf(" ALIIYOR\n");
	 else	cprintf(" ALIMIYOR\n");
 gotoxy(2,2);
 textcolor(LIGHTCYAN);cprintf("Pin-2:"); textcolor(WHITE);
	if (p2==0) cprintf(" 0\n");
	if (p2==1) cprintf(" +\n");
	if (p2==-1) cprintf(" -\n");
 gotoxy(2,3);
 textcolor(LIGHTCYAN);cprintf("Pin-3:"); textcolor(WHITE);
	if (p3==0) cprintf(" 0\n");
	if (p3==1) cprintf(" +\n");
	if (p3==-1) cprintf(" -\n");
 gotoxy(2,4);
 textcolor(LIGHTCYAN);cprintf("Pin-6:"); textcolor(WHITE);
	if (p6==0) cprintf(" 0");
	if (p6==1) cprintf(" +");
	if (p6==-1) cprintf(" -");
	window(31,5,75,22);
}


/* Reset ............................................................... */;
void reset(void)
 {
	outportb(port,0);
 }


/* Pin 2 ................................................................*/;
int pin2(int stt)
{
 int drm,gecerli;
 gecerli=0;
 drm=(inportb(port) & 252);
 window(31,5,75,22);
 if (stt==0){outportb(port,drm);clrscr();cprintf("Pin(2)'ye '0' gerilim uyguland.\n");}
 if (stt==1){outportb(port,(drm | 1));clrscr();cprintf("Pin(2)'ye '+' gerilim uyguland.\n");}
 if (stt==-1){outportb(port,(drm | 2));clrscr();cprintf("Pin(2)'ye '-' gerilim uyguland.\n");}
 gotoxy(1,wherey());
 if (stt==2){
	 gecerli=(inportb(port) & 3);
	 if (gecerli==2) gecerli=-1;
	}
 return(gecerli);
}



/* Pin 3 ............................................................*/;
int pin3(int stt)
{
 int drm,gecerli;
 gecerli=0;
 drm=(inportb(port) & 243);
 window(31,5,75,22);
 if (stt==0){outportb(port,drm);clrscr();cprintf("Pin(3)'e '0' gerilim uyguland.\n");}
 if (stt==1){outportb(port,(drm | 4));clrscr();cprintf("Pin(3)'e '+' gerilim uyguland.\n");}
 if (stt==-1){outportb(port,(drm | 8));clrscr();cprintf("Pin(3)'e '-' gerilim uyguland.\n");}
 gotoxy(1,wherey());
 if (stt==2)
	{
	 gecerli=(inportb(port) & 12) >> 2;
	 if (gecerli==2) gecerli=-1;
	}
 return(gecerli);
}


int pin6(void)
{
 int p6,gecici;
 gecici=inportb(port) | 128;
 outportb(port,gecici);
 p6=(inportb(portd) & 96);
 gecici=0;
 if ((p6 & 32)==32) gecici++;
 if ((p6 & 64)==64) gecici--;
 return(gecici);
}


/* Kart ..............................................................*/;
int kart(int stt)
{
 int drm,gecerli;
 gecerli=0;
 drm=inportb(port);
 window(31,5,75,22);
 if (stt==0){clrscr();outportb(port,0);cprintf("Kart kapatld.\n");}
 if (stt==1){clrscr();outportb(port,16+128);cprintf("Kart ald.\n");}
 gotoxy(1,wherey());
 if (stt==2)
	{
	 gecerli=(drm & 16) >> 4;
	}
 if (stt!=2) kart_durum=stt;
 return(gecerli);
}





/* Ana Ekran ..........................................................*/;
void AnaEkran(void)
{
 int s;

 clrscr();
 textbackground(CYAN);
 clrscr();
 textbackground(BLUE);
 cprintf("                                                                                ");
 gotoxy(1,1);
 textcolor(LIGHTCYAN);
 cprintf(" Bilgisayar Destekli 741 Test                               Sleyman GNEL 2001 ");
 gotoxy(38,1);
 textcolor(WHITE);
 cprintf("CAT741");

 textcolor(WHITE);
 gotoxy(2,3);
 cprintf("ษออออออออ INFO ออออออออป");
 for (s=0;s<11;s++)
	{
	 textbackground(BLUE);
	 gotoxy(2,s+4);
	 cprintf("บ                      บ");
	 textbackground(BLACK);
	 cprintf("  ");
	}
 gotoxy(2,s+4);
 textbackground(BLUE);
 cprintf("ศออออออออออออออออออออออผ");
 textbackground(BLACK);
 cprintf("  ");
 gotoxy(4,s+5);
 cprintf("                        ");


 textattr(WHITE+(BLUE<<4));
 gotoxy(2,18);
 cprintf("ษอออออ KART DURUMU ออออป");
 for (s=0;s<4;s++)
	{
	 textbackground(BLUE);
	 gotoxy(2,s+19);
	 cprintf("บ                      บ");
	 textbackground(BLACK);
	 cprintf("  ");
	}
 gotoxy(2,s+19);
 textbackground(BLUE);
 cprintf("ศออออออออออออออออออออออผ");
 textbackground(BLACK);
 cprintf("  ");
 gotoxy(4,s+20);
 cprintf("                        ");


 textattr(WHITE+(BLUE<<4));
 gotoxy(29,3);
 cprintf("ษอออออออออออออออออออออ RAPOR อออออออออออออออออออป");
 for (s=0;s<19;s++)
	{
	 textbackground(BLUE);
	 gotoxy(29,s+4);
	 cprintf("บ                                               บ");
	 textbackground(BLACK);
	 cprintf("  ");
	}
 gotoxy(29,s+4);
 textbackground(BLUE);
 cprintf("ศอออออออออออออออออออออออออออออออออออออออออออออออผ");
 textbackground(BLACK);
 cprintf("  ");
 gotoxy(31,s+5);
 cprintf("                                                 ");


 textbackground(BLUE);
 gotoxy(4,5);
 textcolor(LIGHTCYAN);cprintf("1:"); textcolor(WHITE); cprintf(" Pin(2) (+)");
 gotoxy(4,6);
 textcolor(LIGHTCYAN);cprintf("2:"); textcolor(WHITE); cprintf(" Pin(2) (-)");
 gotoxy(4,7);
 textcolor(LIGHTCYAN);cprintf("3:"); textcolor(WHITE); cprintf(" Pin(2) (0)");
 gotoxy(4,8);
 textcolor(LIGHTCYAN);cprintf("4:"); textcolor(WHITE); cprintf(" Pin(3) (+)");
 gotoxy(4,9);
 textcolor(LIGHTCYAN);cprintf("5:"); textcolor(WHITE); cprintf(" Pin(3) (-)");
 gotoxy(4,10);
 textcolor(LIGHTCYAN);cprintf("6:"); textcolor(WHITE); cprintf(" Pin(3) (0)");
 gotoxy(4,12);
 textcolor(LIGHTCYAN);cprintf("F1:"); textcolor(WHITE); cprintf(" BLG");
 gotoxy(4,13);
 textcolor(LIGHTCYAN);cprintf("F2:"); textcolor(WHITE); cprintf(" TEST/PTAL");
 gotoxy(4,14);
 textcolor(LIGHTCYAN);cprintf("F3:"); textcolor(WHITE); cprintf(" KART-A/KAPAT");

 gotoxy(4,19);
 textcolor(LIGHTCYAN);cprintf("Kart.:"); textcolor(WHITE); cprintf(" ALIMIYOR");
 gotoxy(4,20);
 textcolor(LIGHTCYAN);cprintf("Pin-2:"); textcolor(WHITE); cprintf(" 0");
 gotoxy(4,21);
 textcolor(LIGHTCYAN);cprintf("Pin-3:"); textcolor(WHITE); cprintf(" 0");
 gotoxy(4,22);
 textcolor(LIGHTCYAN);cprintf("Pin-6:"); textcolor(WHITE); cprintf(" 0");

 window(31,5,75,22);

}
/* ................................................................... */;


void main (void)
{
 int v,c=0;

 open_intserv();
 outportb(CONTROL, inportb(CONTROL) | 0x10);

 KarakterSeti();
 AnaEkran();
 kart_durum=0;
 reset();
 cprintf("Sistem komut bekliyor...\n");
 gotoxy(1,2);
 c++;
 do{
		v=getch();
		if (int_occurred==TRUE) {int_occurred=FALSE;sound(3500);delay(5);nosound();}
		if (v=='1' || v==0x4f) c=pin2(1);
		if (v=='2' || v==0x50) c=pin2(-1);
		if (v=='3' || v==0x51) c=pin2(0);
		if (v=='4' || v==0x4b) c=pin3(1);
		if (v=='5' || v==0x4c) c=pin3(-1);
		if (v=='6' || v==0x4d) c=pin3(0);
		if (v==0x3d) kart((!kart_durum));
		durum();

 } while(v!=27);
 kart(0);
 close_intserv();
}


/* ................................................................... */;


void interrupt far intserv()
{
 disable();
 int_processed();
 int_occurred=TRUE;
 enable();
}

void open_intserv(void)
{
 int int_mask;
 disable();
 oldfunc=getvect(intlev);
 setvect(intlev,intserv);
 int_mask=inportb(0x21);
 outportb(0x21,int_mask & ~0x80);
 enable();
}

void close_intserv(void)
{
 int int_mask;
 disable();
 setvect(intlev,oldfunc);
 int_mask=inportb(0x21) | 0x80;
 outportb(0x21,int_mask);
 enable();
}

void int_processed(void)
{
 outportb(0x20,0x20);
}



/* ................................................................... */;

/* Karakter seti ykle ............................................... */;

void KarakterSeti(void)
{
 unsigned char karakter[4096]={0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		 0,0,124,130,130,170,130,130,186,146,130,124,0,0,0,0,
		 0,0,124,254,254,214,254,254,198,238,254,124,0,0,0,0,
		 0,0,0,0,0,108,254,254,124,56,16,0,0,0,0,0,
		 0,0,0,0,16,56,124,254,124,56,16,0,0,0,0,0,
		 0,0,0,0,56,56,56,238,238,238,16,56,0,0,0,0,
		 0,0,0,0,16,56,124,254,254,84,16,56,0,0,0,0,
		 0,0,0,0,0,0,24,60,60,24,0,0,0,0,0,0,
		 255,255,255,255,255,255,231,195,195,231,255,255,255,255,255,255,
		 0,0,0,0,0,60,102,66,66,102,60,0,0,0,0,0,
		 255,255,255,255,255,195,153,189,189,153,195,255,255,255,255,255,
		 0,0,30,6,10,16,16,124,130,130,130,124,0,0,0,0,
		 0,0,124,130,130,130,124,16,16,124,16,16,0,0,0,0,
		 0,0,30,18,30,16,16,16,16,240,240,224,0,0,0,0,
		 0,0,62,34,62,34,34,34,46,238,236,192,0,0,0,0,
		 0,0,16,146,124,68,130,130,130,68,124,146,16,0,0,0,
		 0,0,0,0,0,192,224,240,248,240,224,192,0,0,0,0,
		 0,0,0,0,0,24,56,120,248,120,56,24,0,0,0,0,
		 0,0,16,56,84,146,16,16,146,84,56,16,0,0,0,0,
		 0,0,68,68,68,68,68,68,68,0,68,68,0,0,0,0,
		 0,0,126,242,242,242,114,18,18,18,18,18,0,0,0,0,
		 0,120,132,64,48,72,132,132,72,48,8,132,120,0,0,0,
		 0,0,0,0,0,0,0,0,254,254,254,254,0,0,0,0,
		 0,0,16,56,84,146,16,16,146,84,56,254,0,0,0,0,
		 0,0,16,56,84,146,16,16,16,16,16,16,0,0,0,0,
		 0,0,16,16,16,16,16,16,146,84,56,16,0,0,0,0,
		 0,0,0,0,16,8,4,254,4,8,16,0,0,0,0,0,
		 0,0,0,0,16,32,64,254,64,32,16,0,0,0,0,0,
     0,0,0,0,0,0,128,128,128,254,0,0,0,0,0,0,
     0,0,0,0,0,36,66,255,66,36,0,0,0,0,0,0,
     0,0,0,0,0,16,56,124,254,254,0,0,0,0,0,0,
     0,0,0,0,0,254,254,124,56,16,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		 0,0,16,16,16,16,16,16,16,0,16,16,0,0,0,0,
		 0,72,72,72,72,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,68,68,254,68,68,68,254,68,68,0,0,0,0,
     0,16,16,124,146,144,128,124,2,18,146,124,16,16,0,0,
     0,0,0,96,242,100,8,16,32,76,158,12,0,0,0,0,
     0,0,48,72,72,72,50,74,132,132,132,122,0,0,0,0,
     0,16,16,16,32,0,0,0,0,0,0,0,0,0,0,0,
		 0,0,8,16,32,32,32,32,32,32,16,8,0,0,0,0,
		 0,0,32,16,8,8,8,8,8,8,16,32,0,0,0,0,
     0,0,0,0,16,84,56,254,56,84,16,0,0,0,0,0,
		 0,0,0,0,16,16,16,254,16,16,16,0,0,0,0,0,
		 0,0,0,0,0,0,0,0,0,0,16,16,16,32,0,0,
     0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,48,48,0,0,0,0,
		 0,0,0,0,0,2,4,8,16,32,64,128,0,0,0,0,
		 0,0,56,68,130,130,146,146,130,130,68,56,0,0,0,0,
		 0,0,16,48,80,16,16,16,16,16,16,124,0,0,0,0,
     0,0,124,130,2,2,4,8,16,32,64,254,0,0,0,0,
		 0,0,124,130,2,2,60,2,2,2,130,124,0,0,0,0,
		 0,0,4,12,20,36,68,132,254,4,4,4,0,0,0,0,
     0,0,254,128,128,128,252,130,2,2,130,124,0,0,0,0,
     0,0,124,128,128,128,252,130,130,130,130,124,0,0,0,0,
     0,0,254,2,2,4,8,16,16,16,16,16,0,0,0,0,
     0,0,124,130,130,68,124,130,130,130,130,124,0,0,0,0,
     0,0,124,130,130,130,130,126,2,2,2,124,0,0,0,0,
     0,0,0,0,0,16,16,0,0,0,16,16,0,0,0,0,
		 0,0,0,0,0,16,16,0,0,0,16,16,16,32,0,0,
     0,0,0,4,8,16,32,64,32,16,8,4,0,0,0,0,
     0,0,0,0,0,254,0,0,254,0,0,0,0,0,0,0,
		 0,0,0,64,32,16,8,4,8,16,32,64,0,0,0,0,
     0,0,124,130,130,2,12,16,16,0,16,16,0,0,0,0,
     0,0,124,130,130,186,170,170,156,128,128,124,0,0,0,0,
		 0,0,56,68,130,130,130,254,130,130,130,130,0,0,0,0,
		 0,0,252,130,130,130,252,130,130,130,130,252,0,0,0,0,
     0,0,124,130,128,128,128,128,128,130,130,124,0,0,0,0,
     0,0,248,132,130,130,130,130,130,130,132,248,0,0,0,0,
		 0,0,254,128,128,128,252,128,128,128,128,254,0,0,0,0,
     0,0,254,128,128,128,252,128,128,128,128,128,0,0,0,0,
     0,0,124,130,128,128,158,130,130,130,130,126,0,0,0,0,
     0,0,130,130,130,130,254,130,130,130,130,130,0,0,0,0,
     0,0,124,16,16,16,16,16,16,16,16,124,0,0,0,0,
     0,0,62,4,4,4,4,4,4,4,132,120,0,0,0,0,
     0,0,132,136,144,160,192,160,144,136,132,130,0,0,0,0,
     0,0,128,128,128,128,128,128,128,128,128,254,0,0,0,0,
     0,0,130,198,170,146,146,130,130,130,130,130,0,0,0,0,
		 0,0,130,194,162,146,138,134,130,130,130,130,0,0,0,0,
		 0,0,124,130,130,130,130,130,130,130,130,124,0,0,0,0,
     0,0,252,130,130,130,252,128,128,128,128,128,0,0,0,0,
     0,0,124,130,130,130,130,130,146,146,146,124,8,4,0,0,
     0,0,252,130,130,130,252,132,130,130,130,130,0,0,0,0,
     0,0,124,130,128,96,48,12,2,130,130,124,0,0,0,0,
     0,0,254,16,16,16,16,16,16,16,16,16,0,0,0,0,
		 0,0,130,130,130,130,130,130,130,130,130,124,0,0,0,0,
     0,0,130,130,130,130,130,130,130,68,40,16,0,0,0,0,
     0,0,130,130,130,130,130,146,146,146,170,68,0,0,0,0,
		 0,0,130,130,68,40,16,40,68,130,130,130,0,0,0,0,
		 0,0,130,130,130,68,40,16,16,16,16,16,0,0,0,0,
     0,0,254,2,4,8,16,32,64,128,128,254,0,0,0,0,
     0,0,56,32,32,32,32,32,32,32,32,56,0,0,0,0,
		 0,0,0,0,0,128,64,32,16,8,4,2,0,0,0,0,
		 0,0,56,8,8,8,8,8,8,8,8,56,0,0,0,0,
		 16,40,68,130,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,254,0,0,
		 0,32,32,32,16,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,120,4,4,124,132,132,126,0,0,0,0,
     0,0,128,128,128,188,194,130,130,130,130,252,0,0,0,0,
     0,0,0,0,0,124,130,128,128,128,130,124,0,0,0,0,
     0,0,2,2,2,122,134,130,130,130,130,126,0,0,0,0,
     0,0,0,0,0,124,130,130,254,128,128,124,0,0,0,0,
     0,0,28,32,32,248,32,32,32,32,32,32,0,0,0,0,
     0,0,0,0,0,126,130,130,130,130,134,122,2,2,124,0,
		 0,0,128,128,128,188,194,130,130,130,130,130,0,0,0,0,
     0,0,16,16,0,112,16,16,16,16,16,124,0,0,0,0,
     0,0,8,8,0,56,8,8,8,8,8,8,8,8,112,0,
		 0,0,128,128,128,134,152,224,144,136,132,130,0,0,0,0,
     0,0,96,32,32,32,32,32,32,32,32,28,0,0,0,0,
     0,0,0,0,0,236,146,146,146,146,146,146,0,0,0,0,
     0,0,0,0,0,188,194,130,130,130,130,130,0,0,0,0,
		 0,0,0,0,0,124,130,130,130,130,130,124,0,0,0,0,
     0,0,0,0,0,188,194,130,130,130,194,188,128,128,128,0,
     0,0,0,0,0,126,130,130,130,130,134,122,2,2,2,0,
		 0,0,0,0,0,188,194,128,128,128,128,128,0,0,0,0,
     0,0,0,0,0,126,128,128,124,2,2,252,0,0,0,0,
     0,0,0,32,32,252,32,32,32,32,32,28,0,0,0,0,
     0,0,0,0,0,130,130,130,130,130,134,122,0,0,0,0,
     0,0,0,0,0,130,130,130,130,68,40,16,0,0,0,0,
     0,0,0,0,0,130,130,130,146,146,146,108,0,0,0,0,
     0,0,0,0,0,130,68,40,16,40,68,130,0,0,0,0,
     0,0,0,0,0,130,130,130,130,130,134,122,2,2,124,0,
     0,0,0,0,0,254,4,8,16,32,64,254,0,0,0,0,
		 0,0,12,16,16,16,96,16,16,16,16,12,0,0,0,0,
		 0,16,16,16,16,16,16,16,16,16,16,16,16,16,16,0,
     0,0,96,16,16,16,12,16,16,16,16,96,0,0,0,0,
     0,0,98,146,140,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,16,40,68,130,130,130,254,0,0,0,0,
     0,0,124,130,128,128,128,128,128,130,130,124,16,8,112,0,
     0,0,68,68,0,130,130,130,130,130,134,122,0,0,0,0,
		 0,8,16,32,0,124,130,130,254,128,128,126,0,0,0,0,
     0,16,40,68,0,124,2,2,126,130,130,126,0,0,0,0,
     0,0,68,68,0,124,2,2,126,130,130,126,0,0,0,0,
     0,32,16,8,0,124,2,2,126,130,130,126,0,0,0,0,
		 0,24,36,24,0,124,2,2,126,130,130,126,0,0,0,0,
     0,0,0,0,0,124,130,128,128,128,130,124,16,8,112,0,
     0,16,40,68,0,124,130,130,254,128,128,126,0,0,0,0,
		 0,0,68,68,0,124,130,130,254,128,128,126,0,0,0,0,
		 0,32,16,8,0,124,130,130,254,128,128,126,0,0,0,0,
		 0,0,72,72,0,112,16,16,16,16,16,124,0,0,0,0,
     0,16,40,68,0,112,16,16,16,16,16,124,0,0,0,0,
		 0,0,0,0,0,112,16,16,16,16,16,124,0,0,0,0,
     68,68,0,56,68,130,130,130,254,130,130,130,0,0,0,0,
     56,68,68,56,68,130,130,130,254,130,130,130,0,0,0,0,
     12,48,0,254,128,128,128,252,128,128,128,254,0,0,0,0,
     0,0,0,0,0,108,146,18,126,144,144,110,0,0,0,0,
     0,0,62,72,136,136,254,136,136,136,136,142,0,0,0,0,
     0,16,40,68,0,124,130,130,130,130,130,124,0,0,0,0,
     0,0,68,68,0,124,130,130,130,130,130,124,0,0,0,0,
		 0,32,16,8,0,124,130,130,130,130,130,124,0,0,0,0,
     0,16,40,68,0,130,130,130,130,130,134,122,0,0,0,0,
     0,32,16,8,0,130,130,130,130,130,134,122,0,0,0,0,
		 16,16,0,124,16,16,16,16,16,16,16,124,0,0,0,0,
     68,68,0,124,130,130,130,130,130,130,130,124,0,0,0,0,
     68,68,0,130,130,130,130,130,130,130,130,124,0,0,0,0,
     0,0,0,0,0,62,67,69,73,81,97,62,0,0,0,0,
		 0,0,56,68,64,64,240,64,64,64,114,204,0,0,0,0,
     0,0,62,65,67,69,73,73,81,97,65,62,0,0,0,0,
     0,0,124,130,128,96,48,12,2,130,130,124,16,8,112,0,
		 0,0,0,0,0,126,128,128,124,2,2,252,16,8,112,0,
     0,8,16,32,0,124,2,2,126,130,130,126,0,0,0,0,
     0,8,16,32,0,112,16,16,16,16,16,124,0,0,0,0,
     0,8,16,32,0,124,130,130,130,130,130,124,0,0,0,0,
     0,8,16,32,0,130,130,130,130,130,134,122,0,0,0,0,
     0,100,152,0,0,188,194,130,130,130,130,130,0,0,0,0,
     100,152,0,130,194,162,146,138,134,130,130,130,0,0,0,0,
     68,56,0,124,130,128,128,158,130,130,130,126,0,0,0,0,
     0,0,68,56,0,126,130,130,130,130,134,122,2,2,124,0,
		 0,0,16,16,0,16,16,96,128,130,130,124,0,0,0,0,
		 0,0,124,130,178,170,178,170,130,124,0,0,0,0,0,0,
     0,0,0,0,0,0,252,4,4,4,4,0,0,0,0,0,
     0,128,128,132,136,144,32,64,128,56,4,8,16,60,0,0,
     0,128,128,128,132,136,16,32,68,140,20,60,4,4,0,0,
     0,0,16,16,0,16,16,16,16,16,16,16,0,0,0,0,
     0,0,0,0,0,36,72,144,72,36,0,0,0,0,0,0,
		 0,0,0,0,0,144,72,36,72,144,0,0,0,0,0,0,
     17,68,17,68,17,68,17,68,17,68,17,68,17,68,17,68,
     85,170,85,170,85,170,85,170,85,170,85,170,85,170,85,170,
     221,119,221,119,221,119,221,119,221,119,221,119,221,119,221,119,
		 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
     8,8,8,8,8,8,8,248,8,8,8,8,8,8,8,8,
     24,96,0,56,68,130,130,130,254,130,130,130,0,0,0,0,
		 56,68,0,56,68,130,130,130,254,130,130,130,0,0,0,0,
		 48,12,0,56,68,130,130,130,254,130,130,130,0,0,0,0,
		 0,0,124,130,154,162,162,154,130,124,0,0,0,0,0,0,
     36,36,36,36,36,228,4,228,36,36,36,36,36,36,36,36,
		 36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,
     0,0,0,0,0,252,4,228,36,36,36,36,36,36,36,36,
     36,36,36,36,36,228,4,252,0,0,0,0,0,0,0,0,
     0,0,16,16,124,130,128,128,130,124,16,16,0,0,0,0,
     0,0,130,130,68,40,16,124,16,124,16,16,0,0,0,0,
     0,0,0,0,0,0,0,248,8,8,8,8,8,8,8,8,
     8,8,8,8,8,8,8,15,0,0,0,0,0,0,0,0,
     8,8,8,8,8,8,8,255,0,0,0,0,0,0,0,0,
		 0,0,0,0,0,0,0,255,8,8,8,8,8,8,8,8,
     8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,8,
     0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,
     8,8,8,8,8,8,8,255,8,8,8,8,8,8,8,8,
     0,50,76,0,0,124,2,2,126,130,130,126,0,0,0,0,
     100,152,0,56,68,130,130,130,254,130,130,130,0,0,0,0,
     36,36,36,36,36,39,32,63,0,0,0,0,0,0,0,0,
		 0,0,0,0,0,63,32,39,36,36,36,36,36,36,36,36,
     36,36,36,36,36,231,0,255,0,0,0,0,0,0,0,0,
     0,0,0,0,0,255,0,231,36,36,36,36,36,36,36,36,
     36,36,36,36,36,39,32,39,36,36,36,36,36,36,36,36,
     0,0,0,0,0,255,0,255,0,0,0,0,0,0,0,0,
     36,36,36,36,36,231,0,231,36,36,36,36,36,36,36,36,
     0,0,0,0,132,120,132,132,132,132,120,132,0,0,0,0,
     0,56,68,68,68,56,0,124,0,0,0,0,0,0,0,0,
     0,56,4,60,68,60,0,124,0,0,0,0,0,0,0,0,
     56,68,0,254,128,128,128,252,128,128,128,254,0,0,0,0,
     68,68,0,254,128,128,128,252,128,128,128,254,0,0,0,0,
     48,12,0,254,128,128,128,252,128,128,128,254,0,0,0,0,
		 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		 12,48,0,124,16,16,16,16,16,16,16,124,0,0,0,0,
     56,68,0,124,16,16,16,16,16,16,16,124,0,0,0,0,
     68,68,0,124,16,16,16,16,16,16,16,124,0,0,0,0,
     8,8,8,8,8,8,8,248,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,15,8,8,8,8,8,8,8,8,
     255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
		 0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,
     0,16,16,16,16,16,0,0,16,16,16,16,16,0,0,0,
     96,24,0,124,16,16,16,16,16,16,16,124,0,0,0,0,
     255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,
		 12,48,0,124,130,130,130,130,130,130,130,124,0,0,0,0,
		 0,0,56,68,132,132,152,132,130,130,130,156,128,128,0,0,
		 56,68,0,124,130,130,130,130,130,130,130,124,0,0,0,0,
		 96,24,0,124,130,130,130,130,130,130,130,124,0,0,0,0,
		 0,100,152,0,0,124,130,130,130,130,130,124,0,0,0,0,
		 100,152,0,124,130,130,130,130,130,130,130,124,0,0,0,0,
     0,0,0,0,0,132,132,132,132,132,196,186,128,128,128,0,
		 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,132,72,48,48,72,132,0,0,0,0,0,0,
     12,48,0,130,130,130,130,130,130,130,130,124,0,0,0,0,
     56,68,0,130,130,130,130,130,130,130,130,124,0,0,0,0,
     96,24,0,130,130,130,130,130,130,130,130,124,0,0,0,0,
     0,64,32,16,0,112,16,16,16,16,16,124,0,0,0,0,
     0,0,68,68,0,130,130,130,130,130,134,122,2,2,124,0,
     0,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		 0,4,8,16,32,0,0,0,0,0,0,0,0,0,0,0,
     0,0,0,0,0,0,0,254,0,0,0,0,0,0,0,0,
     0,0,16,16,16,254,16,16,16,0,254,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,224,16,96,18,228,8,16,34,70,138,30,2,2,0,0,
     0,0,126,242,242,242,114,18,18,18,18,18,0,0,0,0,
     0,120,132,64,48,72,132,132,72,48,8,132,120,0,0,0,
		 0,0,0,0,16,16,0,254,0,16,16,0,0,0,0,0,
     0,0,0,0,0,0,0,0,0,0,0,16,8,112,0,0,
     0,112,136,136,136,112,0,0,0,0,0,0,0,0,0,0,
     0,68,68,0,0,0,0,0,0,0,0,0,0,0,0,0,
     0,0,28,34,65,65,65,65,65,65,65,65,65,65,65,95,
     0,0,28,34,65,65,65,65,65,65,65,65,65,65,65,65,
     0,0,28,34,65,65,65,65,65,65,65,65,65,65,65,65,
     64,65,65,65,65,65,65,65,65,65,65,65,65,65,34,28,
     64,95,65,65,65,65,65,65,65,65,65,65,65,65,34,28,
		 65,65,65,65,65,65,65,65,65,65,65,65,65,65,34,28};


 struct REGPACK regs;

 regs.r_ax=0x1100;
 regs.r_bx=0x1000;
 regs.r_cx=256;
 regs.r_dx=0;
 regs.r_es=(unsigned)FP_SEG(karakter);
 regs.r_bp=(unsigned)FP_OFF(karakter);
 intr(0x10,&regs);
}

